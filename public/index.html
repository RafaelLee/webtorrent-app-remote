<html>

<head>
  <title>Webtorrent Remote Managment</title>
  <script src="/bower_components/jquery/jquery.min.js"></script>
  <script src="/bower_components/bootstrap/js/bootstrap-dropdown.js"></script>
  <script src="/bower_components/angular/angular.min.js"></script>
  <script src="/bower_components/angular-sanitize/angular-sanitize.min.js"></script>
  <script src="/bower_components/angular-bootstrap/ui-bootstrap.min.js"></script>
  <script src="/bower_components/socket.io-client/socket.io.js"></script>
  <script src="/bower_components/angular-socket-io/socket.min.js"></script>
  <script src="/bower_components/angular-translate/angular-translate.min.js"></script>
  <script src="/bower_components/angular-dialog-service/dist/dialogs-default-translations.min.js"></script>
  <script src="/bower_components/angular-dialog-service/dist/dialogs.js"></script>
  <script src="/bower_components/angular-file-input/dist/angular-file-input.js"></script>
  <script src="/bower_components/angular-ui-notification/dist/angular-ui-notification.min.js"></script>
  <script src="/bower_components/underscore/underscore-min.js"></script>
  <script src="app.js"></script>

  <link href="/stylesheets/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="/bower_components/angular-ui-notification/dist/angular-ui-notification.min.css" rel="stylesheet" type="text/css" />
  <link href="/bower_components/angular-dialog-service/dist/dialogs.min.css" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/style.css" rel="stylesheet" type="text/css" />
</head>

<body ng-app="webtorrent" ng-controller="WebTorrent">
  <div id="main-menu" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <h1>
  					<a id="logo" class="brand" href="/">
  					  WebTorrent App
  					</a>
					</h1>
        <ul class="nav pull-right">
          <li><a href="/">Logout</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div id="container" class="container" style="padding-top: 20px;">
    <div id="page-header"></div>
    <div class="row">
      <div class="span2">
        <ul id="torrent-groups" class="nav nav-pills nav-stacked nav-list">
          <li ng-click="setFilterstatus(0)" ng-class="{'active': !filter.status}">
            <a href="#">
              <i class="icon-minus pull-right hide remove-group" rel="tooltip" title="All"></i> All
            </a>
          </li>
          <li ng-click="setFilterstatus(1)" ng-class="{'active': filter.status == 1}">
            <a href="#">
              <i class="icon-minus pull-right hide remove-group" rel="tooltip" title="Downloading"></i> Downloading
            </a>
          </li>
          <li ng-click="setFilterstatus(2)" ng-class="{'active': filter.status == 2}">
            <a href="#">
              <i class="icon-minus pull-right hide remove-group" rel="tooltip" title="Seeding"></i> Seeding
            </a>
          </li>
        </ul>
      </div>
      <div class="span10">
        <input id="select-all" type="checkbox" style="margin-right: 25px; margin-left: 10px; margin-top: 8px;" class="pull-left" />
        <div class="btn-group pull-left">
          <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">With Selected <span class="caret"></span></a>
          <ul id="with-selected-dropdown" class="dropdown-menu">
            <li><a href="#" data-what="start">Start</a></li>
            <li><a href="#" data-what="stop">Pause</a></li>
            <li><a href="#" data-what="remove">Remove</a></li>
          </ul>
        </div>
        <div class="btn-group pull-right">
          <a class="btn btn-success dropdown-toggle" data-toggle="dropdown" href="#">
            <i class="icon-plus-sign"></i>Add Torrent
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu">
            <li><a ng-click="add($event, 'file')"  href="#add-torrent-from-file-dialog" data-toggle="modal">From File</a></li>
            <li><a ng-click="add($event, 'magnet')"  href="#add-torrent-from-url-dialog" data-toggle="modal">From URL/Magnet</a></li>
          </ul>
        </div>
        <div style="clear:both; height: 5px; width: 100%"></div>
        
        <table class="table table-condensed table-hover">
          <tr class="torrent-row unselectable" style="width:100%;" ng-repeat="torrent in torrents | filter: filter">
            <td>
              <table class="no-table torrent-info" style="width:100%;">
                <tr>
                  <td colspan="4">
                    <h5 class="torrent-title pull-left">
        							{{::torrent.name}}
        							<small>- Downloaded: {{::torrent.downloaded}} / Uploaded: {{::torrent.uploaded}} | Time Remaning: {{::torrent.estimate}}</small>							
        						</h5>
                    <div class="clearfix"></div>
                    <small class="text-error" ng-if="torrent.error"></small>
                  </td>
                </tr>
                <tr>
                  <td style="width:85%;">
                    <progressbar value="torrent.progress">{{torrent.progress}}%</progressbar>
                  </td>
                  <td style="width:15%;">
                    <form action="/" method="post" class="no-margin pull-left">
                      <div class="btn-group pull-right">
                        <a torrentInfo(torrent.infoHash) class="btn btn-mini show-torrent-info" href="#"><i class="icon-info-sign"></i></a>
                        <button type="submit" class="btn btn-mini" name="what" value="stop"><i class="icon-pause"></i></button>
                        <button type="submit" class="btn btn-mini" name="what" value="start"><i class="icon-play"></i></button>
                        <a ng-click="remove(torrent.infoHash)" class="btn btn-mini remove-torrent" href="#"><i class="icon-remove"></i></a>
                      </div>
                    </form>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td>
              <div class="pull-right">
                <h5><small>Speed: D: {{global.d_speed}} - U: {{global.u_speed}} | Global ratio: {{global.ratio}}</small></h5>
              </div>
            </td>
          </tr>
        </table>
        <p ng-if="!torrents.length" style="margin-top: 10px;">No torrents found. Add a torrent using the button on the right.</p>
      </div>
    </div>
  </div>

  <!--
  <header>
    <img  src="/images/logo.png" />
    <h2>Web Torrent Client</h2>
    <div style="clear:both"></div>
  </header>
  <div id="buttons">
    <button ng-click="add()" type="button" class="btn btn-default" aria-label="Left Align">
      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Torrent
    </button>
    <button ng-click="remove(active)" type="button" class="btn btn-default" aria-label="Left Align">
      <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> Remove Selected
    </button>
    <button ng-click="removeAll()" type="button" class="btn btn-default btn-disabled" aria-label="Left Align">
      <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> Remove All
    </button>
    |
    <button type="button" class="btn btn-default btn-disabled" aria-label="Left Align">
      <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Resume Selected
    </button>
    <button type="button" class="btn btn-default btn-disabled" aria-label="Left Align">
      <span class="glyphicon glyphicon-pause" aria-hidden="true"></span> Pause Selected
    </button>
    <button type="button" class="btn btn-default btn-disabled" aria-label="Left Align">
      <span class="glyphicon glyphicon-pause" aria-hidden="true"></span> Pause All
    </button>
    <div class="pull-right ratio">
      Speed: D: {{global.d_speed}} - U: {{global.u_speed}} | Global ratio: {{global.ratio}}
    </div>
  </div>
  <div id="filter">
    <div class="row">
      <form class="form-inline">
        <div class="col-md-3"> 
          <div class="form-group">
            <div class="input-group">
              <input type="text" class="form-control" ng-model="filter.name" type="text" placeholder="Filter torrent" />
              <div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div>
            </div>
          </div>
        </div>
        <div class="col-md-8">
          <div class="filters">
            <span ng-click="setFilterstatus(0)" class="label text-dark" ng-class="{'label-success': !filter.status, 'label-default': true}">All</span>
            <span ng-click="setFilterstatus(1)" class="label text-dark" ng-class="{'label-success': filter.status == 1}">Downloading</span>
            <span ng-click="setFilterstatus(2)" class="label text-dark" ng-class="{'label-success': filter.status == 2}">Seeding</span>
          </div>
        </div> 
      </form>
    </div>
  </div>
  <div id="content">
    <ul>
      <li ng-repeat="torrent in torrents | filter: filter" ng-click="selectTorrent(torrent)" ng-class="{'active': active == torrent.infoHash}">
        <div class="col-sm-12">{{::torrent.name}} | Downloaded: {{::torrent.downloaded}} / Uploaded: {{::torrent.uploaded}} | Time Remaning: {{::torrent.estimate}}</div>
        <div class="col-sm-12">
          <progressbar value="torrent.progress">{{torrent.progress}}%</progressbar>
        </div>
        <div class="col-sm-12">Peers: {{torrent.peers}} | Speed: D: {{torrent.d_speed}} U: {{torrent.u_speed}} | Ratio: {{torrent.ratio}}</div>
        <div class="col-sm-12" ng-if="torrent.peers == 0">Finding Peers ...</div>
        <div class="col-sm-12 controls">
          <i ng-click="" class="glyphicon glyphicon-play"></i>
          <i ng-click="" class="glyphicon glyphicon-pause"></i>
          <i ng-click="remove(torrent.infoHash)" class="glyphicon glyphicon-stop"></i>
          <i ng-click="torrentInfo(torrent.infoHash)" class="glyphicon glyphicon-info-sign"></i>
        </div>
      </li>
    </ul>
  </div>
  <footer>
    <span class="footer_msg">WebTorrent App is free and Open Source! Please Contribute! Visite Us on: <a href="https://github.com/Stiveknx/webtorrent-webapp">https://github.com/Stiveknx/webtorrent-webapp</a></span>
  </footer>
  -->
</body>

</html>